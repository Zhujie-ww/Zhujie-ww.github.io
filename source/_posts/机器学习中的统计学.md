---
tags:
  - 统计学
categories:
  - 统计学
top: true
abbrlink: 1002
mathjax: true
summary: "本文探讨统计学习的思维，研究了频率派和贝叶斯学派的异同，以便为机器学习打下基础！"
---


<h1 align = "center">程序员的统计学</h1>



1、什么是统计学？
统计学：基于数据得到客观现象的内在规律性从而做出决策与预测！


2、为什么学习统计学？
为了培养 **统计思维**：


> 统计思维：用相对简单的特征来尽可能准确描述现实世界，并且允许对不确定性进行量化!


举例：北京买房，预算200万，如何分析是否够？
方法：获得所有商品房价格，而后进行计算；
（抽样）----(数字特征)-------置信区间---------------------
例：抽烟活100岁----抽烟好！---个例；

> 人是非理性的，信息获取有偏差，直觉，幸存者偏差；



3、统计学有哪些分类？
描述统计、统计推断（频率派：参数估计、假设检验、贝叶斯派：贝叶斯统计）

 ![统计学分支](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/统计学大纲.png) 
 
 ![频率派和贝叶斯学派假设检验](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/假设检验.png)


4、统计学与机器学习对比：
统计学注重可解释性：本质与机制，追求为什么；
机器学习注重应用：追求准确率，不关注黑盒内部如何实现，给出是什么；

5、统计学研究数据，有哪些数据呢？
数据分类：（不同数据有不同操作集和统计方法）：
* 每个数字都有独特含义（名目尺度）（定性/无序分类变量）
如：`性别`、`颜色`；
* 数字有序（次序尺度，含①特点）（定性/有序分类变量）
如：`教育程度`、`评价`；
* 任何位置单位间距相同（等距尺度）（定量/数值变量）
如：`年份`、`温度`；
* 不存在0值（等比尺度）（定量/数值变量）
如：`身高`、`体重`、`年龄`；


<h1 align = "center">描述统计</h1>


1、大纲：


![描述统计](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/描述统计.png)


2、如何判断数据是否可靠与有效？
> 可靠性：多次测量的到的数据是否一致；


> 有效性：实际测量对象=目的对象；


3、各变量数字特征与图表：
* 无序分类变量：如`性别`：
图表：频率表、条形图；
	数字特征：众数；
* 有序分类变量：如`教育程度`：
图表：频率表、条形图；
	数字特征：众数，中位数；
* 数值变量：
图表：频率直方图；箱线图；
数字特征：
集中趋势：众数、中位数、均值；
离散趋势：极差、分位数[2分位、四分位]、方差

![箱线图](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/箱线图.png)

 
> P.S:四分位计算方法：先找二分位线，左右两边再找二分位线（递归查找中位数）；

* 数值变量：等比变量：如花瓣长度：
	图表：箱线图、频率直方图；
数字特征：方差、标准差；

4、极端值与缺失值：
极端值定义：小于Q1-3IQR,大于Q3+33IQR的值；
	来源：数据来自不同总体、小概率事件发生了、测量/记录/输入错误；
极端值影响：
```特别影响均值、极差、方差，不太影响中位数、众数、IQR；```


如何处理：测量失误--丢掉；其他情况，具体处理；
缺失值：1000个丢10个，那么没啥关系丢弃；其他情况：能否补全；

5、两个变量之间的关系：

* 两个分类变量的关系：
遇难船只的325名乘客：幸存与否、年龄（儿童/成人）
构建原始数据表；年龄与幸存是否有关系？
关联表；有关不等于因果关系！
分段条形图；相对频率分段条形图

![关联表](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/关联表.png)

 
* 两个数值变量关系：工资与入职时间关系：散点图；
* 数值与分类变量关系：工资与性别；房价与学区房；并排箱图；

<h1 align = "center">概率论</h1>

1、什么是概率：
频率派认为概率是频率的极限；
贝叶斯学派认为是人的主观观念；

2、概率密度图像可以看成是频率分布直方图的极限；

3、大数定律：样本容量/试验次数足够多时，频率稳定趋向于概率；

![抛1000次硬币正面朝上概率](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/大数定律.png)

 
<h1 align = "center">统计推断</h1>

1、总体思路：总体中抽取样本进行参数估计，用假设检验衡量参数是否估计得合理；
> 要求：总体分布已知、参数未知；


2、大纲：

![统计推断流程](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/统计推断.png)

 
3、中心极限定理：
> 大量独立随机变量之和标准化后近似服从正态分布；

实际中只需要样本容量大于30个就可以满足；

<h1 align = "center">参数估计</h1>


1、参数估计：
* 点估计：总体抽取样本构造统计量进行估计，用样本代替总体参数；
均值与期望：前者是基于样本，后者是上帝视角，基于总体的均值，后者为前者极限；
* 区间估计：估计出一个范围和可信程度；
置信水平为1-α的置信区间并不唯一，但是正态总体对称长度最小，精度最高；
1-α表明该区间包含真值的可信度为1-α；

<h1 align = "center">假设检验</h1>

1、前提：
总分分布只知道部分参数，提出关于总体的假设，根据样本决定接受还是拒绝假设，
我们不知道这一决策是否正确，但是知道决策犯错的频率；
2、假设：原假设（总体参数假设有等号）、备择假设；
3、检验：
> p值检验法：
P （样本观测值|原假设发生条件下）
若：P>α，接受原假设，反之拒绝；

4、假设检验之决策错误：
第一类错误：α（拒绝域）-弃真；
第二类错误：取伪-β；
> 二者相互制约，通常考虑到错误后果严重性，控制第一类错误是选取较低的α水平；


其中β由真值、样本容量决定；
5、假设检验之效应量（实际显著）：A班和B班平均分数为90,89.5，那么差距如何衡量？
Cohen's D效应公示：d=X1罢-X2罢/S；0.2较小，0.5中等，0.8较大差距；

6、假设检验推广：ANOVA方差分析检验：
* t检验与ANOVA的区别：
 t检验两个总体均值；方差分析多组H0=全等，H补全等；
如用A,B,C教学方法（教学方法为自变量/因素）（该因素有三个水平，A,B,C）（单因素方差分析），分别对应学生成绩（因变量），假设U2=U3=U1表示教学方法对成绩无关，此为单因素方差分析；

7、假设检验推广之```非参数方法```：
* 非参数方法：
> 总体分布未知/总体参数无限个，这时要对总体某些性质进行估计/假设检验；  

*  非参数方法特点：
利用样本估计/检验总体性质中，不依赖于总体分布，统计量通常与总体分布无关；
优点：对数据要求不严格、较好的稳健性、不受总体分布限制；
缺点：如果符合参数方法的数据用非参数方法，第二类错误概率大；
* 什么时候使用非参数？
* 中位数而不是均值可以更好描述数据的集中趋势；
* 处理对象有极端值、是有序变量；
* 如果符合参数方法的数据次选用非参数方法；
*  样本不典型任何方法都错误；
* 举例：威尔森符号秩检验、威尔森秩和检验、皮尔曼相关检验；
* bootstrp方法：总体分布未知，已有n个样本，现在从n中放回抽样n个得到的样本，独立重复k（一般大于1000次）次，即k次抽样，形成bootstap非参数方法；
如判断男女是否睡眠时间相同，采取中位数差值；



<h1 align = "center">回归</h1>


1、线性回归：

* 协方差：两个数值变量共同变化程度； 


{% raw%}$$Cov(X,Y) = \frac{{\sum\limits_{i = 0}^N {\left( {{X_i} - \bar X} \right)} \left( {{Y_i} - \bar Y} \right)}}{{N - 1}}$${% endraw %}


*  相关系数：

{% raw%}$$\rho  = \frac{{{\rm{cov}}(x,y)}}{{{S_x}{S_y}}}$${% endraw %}



相关系数显示两个变量线性关系强度、方向；
r=-1到1；r绝对值表示线性关系的强弱；
r没有单位，不受平移伸缩影响，代表线性关系的强度与方向；
r受极端值影响大，r=0表示无线性关系；

2、一元线性回归：
*  相关与一元线性回归的区别特点：
后者有自变量与因变量；可以给定自变量的值预测因变量；
* 最佳拟合直线：
数学思想：围绕回归直线均匀波动，一般情况是利用极大似然估计参数，假设:

{% raw%}$$Y \sim \;N(a + bx,{\sigma ^2})$${% endraw %}

{% raw%}$$Y \sim a + bx{\rm{ + }}\varepsilon ,\varepsilon {\rm{ }} \sim N(0,{\sigma ^2})$${% endraw %}

 特别的如果Y不是正态分布，那么即:
> 最小二乘法，
使残差{% raw%}${\sum {({y_i} - \mathop y\limits^ \wedge  {\mkern 1mu} )} ^2}${% endraw %}平方和最小；



求法：求偏导得到正规方程组，解出估计值；
{% raw%}$$\mathop y\limits^ \wedge  {\mkern 1mu}  = {\beta _0}{\rm{ + }}{\beta _1}x$${% endraw %}
  

此回归直线一定经过均值点；
* 假设检验：如何判断这个线性假设正确呢？
对已有的点估计{% raw%}${\beta _1}${% endraw %}
进行（反应线性相关程度）假设检验看其是否为0（是否有实际价值）；
* 一元线性回归前提条件：
*  自变量因变量是线性关系，可以用散点图、残差图检验；
*   残差服从标准正态分布，可以用频率直方图检验；
*   残差围绕y=0变化程度基本不变（围绕y=0上下波动程度差不多--振幅近似）；
*   回归模型的评价标准:
 {% raw%}$$\mathop y\limits^ \wedge  {\mkern 1mu}  = {\beta _0}{\rm{ + }}{\beta _1}x$${% endraw %}


	  
{% raw %}$RMSE${% endraw %}残差和平方的均值开根号；
{% raw %}${R^2}${% endraw %}=1-残差平方和/偏差平方和=模型解释的变化/总变化占比=相关系数的平方；
//假设检验统计量的分母：
自由度=样本容量-模型未知参数个数；

3、多元线性回归之共线性：两个自变量相关，成为共线；
意义：自变量本应独立，剔除共线向量；
简约性（奥卡姆剃刀）：同一个问题多种理论都可以准确预测，那么选择假设最少的；

4、机器学习中的回归和统计中的回归：
同：
求解函数、求解方法、评价指标:
{% raw%}$$RMSE,{R^2},{R^2}_{adjust}$${% endraw %}
不同：
`统计学`：注重可解释性，聚焦当前数据，挖掘出本质和机制；前提条件；假设检验（对做出的决策进行控制）；考虑影响模型准确性的因素；
`机器学习`：注重应用性，预测；不会假设检验，不考虑模型估计准确性因素（此二者为特征工程的范畴）；



5、回归与各种检验的关系：
各种检验都是回归的特殊形式；



<h1 align = "center">贝叶斯统计</h1>
1、大纲：

![贝叶斯推断](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/贝叶斯推断.png)

2、贝叶斯公式：
得到数据情况下推测假设成立的概率；
概率树：辅助计算贝叶斯后验概率：

![概率树](https://cdn.jsdelivr.net/gh/Zhujie-ww/imagebed/imagebed/概率树.png)


3、贝叶斯推断：
从已有数据下推断其本质（某个假设的概率），
如已经检测为核酸阳性推测是艾滋病的概率：
{% raw %}$$P({H_i}|{\rm{D}}) = {{P(D|{{\rm{H}}_i})P({H_i})} \over {\sum\nolimits_i {P(D|{{\rm{H}}_i})P({H_i})} }}$${% endraw %}

其中：{% raw %}$D${% endraw %}为数据，分母为边缘似然，{% raw %}${{H}_{i}}${% endraw %}为第{% raw %}$i${% endraw %}个假设，
P（Hi）表示先验概率，由观察者的主观经验决定；P（D|Hi）为似然概率；
此时P（Hi|D）为后验概率；第二轮，通过贝叶斯更新，把后验概率作为新一轮的先验概率，更新信念；
艾滋病事例中97,3开，这个时候需要考虑其他因素；


`贝叶斯因子`：P（D|H1）/P（D|H2）衡量数据更支持那一个模型；
如果贝叶斯因子<1表示支持H2；>100极其支持H1；

> odds，odds ratio：
odd of hiv=P（HIV）/P(NO HIV)
odds ratio：后验比值/先验比值；




4、先验概率对后验概率的影响：
> 后验概率是先验概率和似然函数的综合；

所以先验概率选择很重要，后续通过迭代收敛至可靠值；

样本容量对于后验概率的影响：大样本降低了不确定性，更为精确；


5、置信区间；拒绝采样方法求得很多个数，排成一排，横坐标为后验概率，纵坐标堆积点；95%置信区间表示真值落在该区间的概率（个数）；

----一种办法95%，5%，两边非别为2.5%个个数，即可；


























 
  
  
  
  
  
  
  
  
  







